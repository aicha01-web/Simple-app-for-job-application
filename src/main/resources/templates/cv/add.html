<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Enregistrement CV</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
            var count=1;
            $(document).ready(function(){
                $("#btn").click(function(){
                    $("#container").append(addNewRow(count));
                    console.log("CLICK");
                    count++;
                });
            });

            function addNewRow(count){
                var newrow='<div class="row">'+
                '<h3>Expérience '+count+'</h3>'+
                '<div th:each="exp : ${experiences}">'+
                '<div class="col-md-4">'+
                    '<div class="form-group label-floating">'+
                        '<label class="control-label">Titre '+count+'</label>'+
                        '<input type="text" class="form-control" name="title" th:field="{exp.title}">'+
                        '</div>'+
                    '</div>'+
                '<div class="col-md-4">'+
                    '<div class="form-group label-floating">'+
                        '<label class="control-label">Entreprise '+count+'</label>'+
                        '<input type="text" class="form-control" name="enterprise" th:field="{exp.enterprise}">'+
                        '</div>'+
                    '</div>'+
                '<div class="col-md-4">'+
                '<div class="form-group label-floating">'+
                    '<label class="control-label">Date de début '+count+'</label>'+
                    '<input type="date" class="form-control" name="startAt" th:field="{exp.startAt}">'+
                    '</div>'+
                '</div>'+
                '<div class="col-md-4">'+
                '<div class="form-group label-floating">'+
                    '<label class="control-label">Date de fin '+count+'</label>'+
                    '<input type="date" class="form-control" name="endAt" th:field="{exp.endAt}">'+
                    '</div>'+
                '</div>'+
                '</div>'+
                '</div>'
                ;
            return newrow;
            }



    </script>

</head>
<body>
<!--<h1 class="text-info">Enregistrement d'un cv</h1>-->
<div class="card mx-auto border-secondary mb-3" style="width: 50rem;">
    <div class="card-header text-center">
        CV
    </div>
    <div class="card-body">
        <h3 class="card-title">Enregistrement d'un cv</h3>
        <form th:action="@{/cv/save}" method="post">

            <div class="form-group">
                <label>Prénom</label>
                <input class="form-control" th:field="*{cv.firstname}">
            </div>

            <div class="form-group">
                <label>Nom</label>
                <input class="form-control" th:field="*{cv.lastname}">
            </div>

            <div class="form-group">
                <label>Mot de passe</label>
                <input class="form-control" th:field="*{user.password}" type="password">
            </div>

            <div class="form-group">
                <label>Email</label>
                <input class="form-control" th:field="*{cv.email}" type="email">
            </div>

            <div class="form-group">
                <label>Téléphone</label>
                <input class="form-control" th:field="*{cv.telephone}" type="tel">
            </div>

            <div class="form-group">
                <label>Spécialité</label>
                <input class="form-control" th:field="*{cv.specialite}">
            </div>

            <div class="form-group">
                <label>Niveau d'étude</label>
                <input class="form-control" th:field="*{cv.niveauEetude}">
            </div>

            <div id="container">
<!--                <h3 class="card-title">Experience </h3>-->
<!--&lt;!&ndash;                <div th:each="exp: ${experiences}" id="container">&ndash;&gt;-->
<!--                    <div class="col-md-4">-->
<!--                        <div class="form-group label-floating">-->
<!--                            <label class="control-label">Titre </label>-->
<!--                            <input type="text" class="form-control" name="title"-->
<!--                                   th:field="{exp.title}">-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="col-md-4">-->
<!--                        <div class="form-group label-floating">-->
<!--                            <label class="control-label">Entreprise</label>-->
<!--                            <input type="text" class="form-control" name="enterprise"-->
<!--                                   th:field="{exp.enterprise}">-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="col-md-4">-->
<!--                        <div class="form-group label-floating">-->
<!--                            <label class="control-label">Date de début </label>-->
<!--                            <input type="date" class="form-control" name="startAt"-->
<!--                                   th:field="{exp.startAt}">-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="col-md-4">-->
<!--                        <div class="form-group label-floating">-->
<!--                            <label class="control-label">Date de fin </label>-->
<!--                            <input type="date" class="form-control" name="endAt"-->
<!--                                   th:field="{exp}">-->
<!--                        </div>-->
<!--                    </div>-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
            </div>


            <div class="form-group">
                <input type="submit" value="Enregistrer">
            </div>

        </form>
        <button id="btn">+Experience</button>

    </div>
</div>
</div>


</body>
</html>